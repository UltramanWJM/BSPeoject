## 1 引言

### 1.1 编写目的

软件需求规则说明书描述了“智能家居管理系统”的Web端功能性需求和非功能性需求。这一文档旨在对开发人员的工作有一个总体的评估，以及对测试计划文档中测试人员的工作进行评估，还有对最后产品的质量性能的评测。

### 1.2 背景

智能家居是在互联网影响之下物联化的体现。智能家居通过物联网技术将家中的各种设备（如音视频设备、照明系统、窗帘控制、空调控制、安防系统、数字影院系统、影音服务器、影柜系统、网络家电等）连接到一起，提供家电控制、照明控制、电话远程控制、室内外遥控、防盗报警、环境监测、暖通控制、红外转发以及可编程定时控制等多种功能和手段。与普通家居相比，智能家居不仅具有传统的居住功能，兼备建筑、网络通信、信息家电、设备自动化，提供全方位的信息交互功能，甚至为各种能源费用节约资金。

### 1.3 定义

+ 功能测试（Functional Testing）：也称为行为测试（Behavioral Testing），根据产品特征、 操作描述和用户方案，测试一个产品的特性和可操作行为以确定它们满足设计需求。本地化 软件的功能测试，用于验证应用程序或网站对目标用户能正确工作。使用适当的平台、浏览 器和测试脚本，以保证目标用户的体验将足够好，就像应用程序是专门为该市场开发的一样。 

+ 边界测试（Boundary Testing）：边界测试用来探测和验证代码在处理极端的或偏门的情况时 会发生什么。

+ 压力测试（Stress Testing）：软件压力测试是一种基本的质量保证行为，它是每个重要软 件测试工作的一部分。软件压力测试的基本思路很简单：不是在常规条件下运行手动或自动测试，而是在计算机数量较少或系统资源匮乏的条件下运行测试。通常要进行软件压力测试 的资源包括内部内存、CPU 可用性、磁盘空间和网络带宽。

+ 接口测试（Interface Communication Testing）：接口测试的目的是测试接口（外部的或内 部的），尤其是那些与系统相关联的外部接口。测试的重点是要检查数据的交换，传递和控制管理过程，还包括处理的次数。外部接口测试一般是作为系统测试来看待的。 

+ 边界值分析（Boundary Value Analysis, BVA）：边界值分析法就是对输入或输出的边界值 进行测试的一种黑盒测试方法。通常边界值分析法是作为对等价类划分法的补充，这种情况 下，其测试用例来自等价类的边界。

### 1.4 参考资料

《软件设计文档国家标准》 

《软件工程项目开发文档范例》 

《Software Requirements edition2》Karl E. Wiegers 

《软件需求》刘伟琴、刘洪涛 译 

## 2 测试概要

我们将从如下角度对该软件做出详细的测试。在接下来的测试文档里面，会以各种功能模块进行测试，在模块里面，会涵盖表中所示的测试内容 。

| 测试项目名称 | 测试目的                                           | 测试内容                                |
| ------------ | -------------------------------------------------- | --------------------------------------- |
| 功能测试     | 针对具体实现测试每个模块功能是否正常               | 用户类 场景类 设备类                    |
| 功能验证测试 | 利用黑盒测试系统功能是否齐全，各个功能是否正确执行 | 登录注册 查看用户信息 创建场景 创建设备 |
| 边界测试     | 测试程序对边界情况是否正确处理                     | 登录注册 创建场景 创建设备              |
| 压力测试     | 测试系统在高负载情况下的功能和性能的承受情况       | 登录注册 查看用户信息 创建场景 创建设备 |
| 用户接口测试 | 测试用户能否通过网页界面完成想要执行的操作         | 登录注册 查看用户信息 创建场景 创建设备 |

## 3 面向对象测试

### 3.1 系统整体构架

智能家具管理系统对应的类图如下

![总体.drawio](imgs\Test\总体.drawio.png)

### 3.2 具体类测试

#### 3.2.1 单元测试

**用户信息管理类**

| 测试内容                 | 测试结果 |
| ------------------------ | -------- |
| 用户登录后的状态         | 通过     |
| 用户退出登录后的状态     | 通过     |
| 提供用户信息的信息内容   | 通过     |
| 用户修改信息后的后端数据 | 通过     |

**场景信息管理类**

| 测试内容         | 测试结果 |
| ---------------- | -------- |
| 场景创建后的状态 | 通过     |
| 场景删除后的状态 | 通过     |

**设备信息管理类**

| 测试内容             | 测试结果 |
| -------------------- | -------- |
| 设备创建后的状态     | 通过     |
| 设备删除后的状态     | 通过     |
| 设备修改状态后的状态 | 通过     |
| 设备接收信号后的状态 | 通过     |

#### 3.2.2 类模型一致性测试

为了确保类与类之间也可以正常合作，还需要对所有类的 CRC 模型进行测试。下面分 别列出来针对每一个类的 CRC 模型和对应需要测试的项目

用户类：重点检查用户登录是否正确，检查显示的用户信息是否与数据库一致，检查用户修改信息后数据库修改情况。

| 类名：用户             |          |
| ---------------------- | -------- |
| 描述：使用该系统的用户 |          |
| 功能                   | 合作类   |
| 用户登录               | Database |
| 用户登出               | Database |
| 用户查看信息           | Database |
| 用户修改信息           | Database |

## 4 功能验证测试

这一章主要针对系统的各项基本功能分模块进行测试。

| 功能名称         | 输入                                                         | 预期输出                                         | 实际输出       |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------ | -------------- |
| 注册             | 点击注册账户链接                                             | 跳转至账户注册页面                               | 与预期输出相符 |
| 获取用户信息     | 登录该用户账号                                               | 显示相应的信息                                   | 与预期输出相符 |
| 获取场景信息     | 登录创建场景的用户账号                                       | 显示相应的场景信息                               | 与预期输出相符 |
| 创建设备         | 输入需要创建的设备的各种信息，并点击创建按钮                 | 设备被创建成功，并成功显示                       | 与预期输出相符 |
| 创建场景         | 输入需要创建的场景的各种信息，并点击创建按钮                 | 场景被创建成功，并成功显示                       | 与预期输出相符 |
| 修改设备上报信息 | 点击设备详细信息界面中的具体设备信息界面，通过右侧的开关的等按钮可调整设备上报信息。 | 弹出修改成功的相关信息，刷新界面设备信息成功更新 | 与预期输出相符 |

## 5 边界测试

这一章主要针对各项功能的边界输入进行测试，以确保系统的鲁棒性。

| 功能名称         | 输入                                 | 预期输出    | 实际输出   |
| ---------------- | ------------------------------------ | ----------- | ---------- |
| 创建用户         | 刚好满足最大或最小长度ID             | 创建成功    | 与预期相符 |
| 查看场景信息     | 未创建过场景                         | 显示0条记录 | 与预期相符 |
| 查看设备信息     | 未创建过设备                         | 显示0条记录 | 与预期相符 |
| 查看设备详细信息 | 模拟终端和系统同时改变               | 都响应      | 与预期相符 |
| 用户登录         | 错误的用户名或密码                   | 登陆失败    | 与预期相符 |
| 用户登录         | 不输入用户名或密码                   | 登陆失败    | 与预期相符 |
| 用户注册         | 输入与原有数据库数据冲突的ID或手机号 | 注册失败    | 与预期相符 |
| 用户注册         | 某一行信息不填                       | 注册失败    | 与预期相符 |

## 6 压力测试

下面是当服务器处于高负载运行的情况下做出的测试。

| 功能名称     | 输入               | 输出           |
| ------------ | ------------------ | -------------- |
| 创建用户     | 正常输入注册信息   | 系统运行正常   |
| 获取用户信息 | 进入用户主页       | 系统运行正常   |
| 搜索场景     | 搜索场景           | 系统运行不正常 |
| 创建场景     | 正常输入场景信息   | 系统运行正常   |
| 创建设备     | 正常输入设备信息   | 系统运行正常   |
| 删除设备     | 点击删除设备       | 系统运行正常   |
| 获取上报信息 | 刷新界面           | 系统运行正常   |
| 上报信息     | 对设备进行相应操作 | 系统运行正常   |

## 7 用户接口测试

### 7.1 用户登录界面

| 功能名称                                   | 预期操作             | 实际操作   |
| ------------------------------------------ | -------------------- | ---------- |
| 输入用户名、密码并登录                     | 用户操作方便         | 与预期相符 |
| 单击注册按钮跳转到注册界面                 | 用户易于找到该按钮   | 与预期相符 |
| 单击登录按钮，登陆成功时跳转到资源管理界面 | 用户易于找到该按钮   | 与预期相符 |
| 登陆失败时显示错误信息                     | 用户易于理解错误信息 | 与预期相符 |

### 7.2 用户注册界面

| 功能名称                                     | 预期操作             | 实际操作   |
| -------------------------------------------- | -------------------- | ---------- |
| 输入注册所需信息                             | 用户操作方便         | 与预期相符 |
| 注册信息不符合要求时显示错误信息             | 用户易于理解错误信息 | 与预期相符 |
| 单击注册按钮时，注册成功                     | 用户易于找到该按钮   | 与预期相符 |
| 注册完毕后，点击返回登录按钮可以跳转登陆界面 | 用户易于找到该按钮   | 与预期相符 |

### 7.3 用户界面

| 功能名称               | 预期操作               | 实际操作   |
| ---------------------- | ---------------------- | ---------- |
| 用户查看自己的信息     | 用户易于理解           | 与预期相符 |
| 修改用户信息           | 用户易于理解，操作方便 | 与预期相符 |
| 进入设备或场景管理界面 | 用户易于理解，操作方便 | 与预期相符 |

### 7.4 场景管理界面

| 功能名称             | 预期操作               | 实际操作   |
| -------------------- | ---------------------- | ---------- |
| 查看已创建的场景信息 | 用户易于理解，操作方便 | 与预期相符 |
| 删除已创建的场景     | 用户易于理解，操作方便 | 与预期相符 |
| 创建新的场景         | 用户易于理解，操作方便 | 与预期相符 |

### 7.5 设备管理界面

| 功能名称             | 预期操作               | 实际操作   |
| -------------------- | ---------------------- | ---------- |
| 查看已创建的设备信息 | 用户易于理解，操作方便 | 与预期相符 |
| 删除已创建的设备     | 用户易于理解，操作方便 | 与预期相符 |
| 创建新的设备         | 用户易于理解，操作方便 | 与预期相符 |

### 7.6 设备详细信息展示界面

| 功能名称                           | 预期操作               | 实际操作   |
| ---------------------------------- | ---------------------- | ---------- |
| 查看已拥有的设备信息               | 用户易于理解，操作方便 | 与预期相符 |
| 查看设备的具体上报信息以及更新时间 | 用户易于理解，操作方便 | 与预期相符 |
| 修改设备的上报信息                 | 用户易于理解，操作方便 | 与预期相符 |

## 8 对软件功能的结论

具体地实现了智能家居管理系统，支持用户注册登录，个人信息的查看与修改，场景信息的展示，场景的创建，设备信息的展示，设备的创建，以及各种具体设备的详细信息展示和上报信息。

经过测试，系统总体功能正常，性能正常，稳定性较高，具有一定的鲁棒性，并发性不高，与用户的交互界面友好。基本达到预期目标。

## 9 分析摘要

### 9.1 能力

​	经过上述面向对象测试、功能测试、边界测试、压力测试和用户接口测试，本智能家具管理系统实现了所有基础功能，如用户登录注册、场景与设备相关的管理功能、模拟设备发送信号的接收等。同时能够应对某些边界情况，具有一定的稳定性，基本达到了需求分析中所分析的基本需求。

### 9.2 限制

​	本系统当前版本实现了常规智能家居管理系统的基础功能，在应对大流量、高并发方面能力有限。在之后的版本中可以不断完善和优化相关功能，同时也可以扩展更多的功能，更好地为用户提供服务。
